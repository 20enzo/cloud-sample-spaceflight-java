/**
 *  Recommended types for language, currency and country codes 
 *  along with corresponding code lists to be reused.  
 */

type Language : Association to sap.common.Languages;
type Currency : Association to sap.common.Currencies;
type Country  : Association to sap.common.Countries;

annotate Language with @(
  Common.ValueList.entity: 'Languages', 
  title:'{i18n>Language}'
);
annotate Currency with @(
  Common.ValueList.entity: 'Currencies', 
  title:'{i18n>Currency}'
);
annotate Country  with @(
  Common.ValueList.entity: 'Countries', 
  title:'{i18n>Country}'
);

context sap.common {
  entity Languages  : CodeList{}
  entity Countries  : CodeList{}
  entity Currencies : CodeList{}
}

abstract entity CodeList @(
  UI.Identification: [{ $Type: 'UI.DataField', Value: name }],
  cds.autoexpose
) {
  key code  : String(3);  // ISO codes 
      name  : localized String;
      descr : localized String;
} 


/**
 *  Aspect to capture changes by user and name. 
 */

type managed {
  // REVISIT: change @odata.on... to @cds.on...
  createdAt  : DateTime @cds.on.insert: $now  @odata.on.insert: #now;
  createdBy  : User     @cds.on.insert: $user @odata.on.insert: #user;
  modifiedAt : DateTime @cds.on.update: $now  @odata.on.update: #now;
  modifiedBy : User     @cds.on.update: $user @odata.on.update: #user;
}


/**
 *  Aspect for entities with temporal data.
 */

type temporal { valid : Period; }
type Period { start: DateTime; end: DateTime; }


/**
 *  Canonical user IDs
 */

type User : String(111);
