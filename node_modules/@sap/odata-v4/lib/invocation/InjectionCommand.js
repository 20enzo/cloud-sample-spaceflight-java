'use strict';

const Command = require('./Command');

/**
 * Injection command to easily inject code into the command chain.
 *
 * @extends Command
 */
class InjectionCommand extends Command {

    /**
     * Creates an instance of InjectionCommand
     *
     * @param {Context} context The current odata context
     * @param {Function} execution The function to call in execute.
     */
    constructor(context, execution) {
        super(context);
        this._execution = execution;
    }

    /**
     * Called by the executor.
     *
     * @param {Function} next The call back to be called when finish the execution.
     */
    execute(next) {
        this._execution(this.getContext(), next);
    }
}

module.exports = InjectionCommand;
