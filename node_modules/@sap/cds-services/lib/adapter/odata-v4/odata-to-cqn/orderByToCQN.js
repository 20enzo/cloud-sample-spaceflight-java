/**
 * Add order by statement(s) to a CQN object.
 *
 * @param cqn - CQN Select object
 * @param orderby - odata orderBy string
 * @private
 */
const orderbyToCQN = (cqn, orderby) => {
  const obj = {}
  obj.values = []
  const parts = orderby.split(',')
  for (const part of parts) {
    const partTrimmed = part.trim()
    if (partTrimmed.includes(' ')) { // contains order
      const res = partTrimmed.split(' ')
      cqn.orderBy(res[0], res[res.length - 1])
    } else {
      cqn.orderBy(partTrimmed, 'asc') // default order
    }
  }
}

module.exports = orderbyToCQN
